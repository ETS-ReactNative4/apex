/*@license
ARIA Tab Module 2.0 for Apex 4X
Author: Bryan Garaventa (https://www.linkedin.com/in/bgaraventa)
Home: WhatSock.com  :  Download: https://github.com/whatsock/apex
License: MIT (https://opensource.org/licenses/MIT)

Required dependencies: RovingTabIndex.js
*/
"setTab"in $A||($A.addWidgetProfile("Tab",{configure:function(e){return{exposeBounds:!0,isTab:!0,ariaControls:!0,ariaLabelledby:!0,isToggle:!1,allowMultiple:!1,isFocusable:!0,returnFocus:!1,on:"activatetab",click:function(e,t){e.stopPropagation()},afterRender:function(e,t){e.trackPage&&$A.setPage(e.id)}}},role:function(e){return{role:"tabpanel"}},duringRender:function(e,t){$A.setAttr(e.triggerNode,{"aria-expanded":"true","aria-selected":"true"})},afterRender:function(e,t){$A.setAttr(e.triggerNode,{"aria-describedby":e.containerId})},afterRemove:function(e,t){$A.setAttr(e.triggerNode,{"aria-expanded":"false","aria-selected":"false"}),$A.remAttr(e.triggerNode,"aria-describedby")}}),$A.extend({setTab:function(e,o){if(this._4X&&(o=e,e=this._X),$A.isPlainObject(e)&&(e=(o=e).trigger||o.content||null),!e)return null;var a=null;$A.isArray(e)?a=e:$A.isStr(e)&&(a=(o.context||document).querySelectorAll(e));var i=o.container&&$A.morph(o.container)||$A.closest(a[0],function(e){if("tablist"===$A.getAttr(e,"role"))return!0});$A.isNode(i)||function(){var t=[],r=[];$A.closest(a[0],function(e){if($A.isNode(e)&&t.push(e),e===document.body)return!0}),$A.closest(a[a.length-1],function(e){if($A.isNode(e)&&r.push(e),e===document.body)return!0}),t=t.reverse(),r=r.reverse();for(var e=null,n=0;n<t.length;n++)if(t[n]===r[n])e=t[n];else if(t[n]!==r[n])break;i=e}(),$A.setAttr(i,"role","tablist");var s=[],l=null,d=0;$A.loop(a,function(e,t){$A.svgFix(t);var r=[];$A.isNode(i)&&$A.closest(t,function(e){if(e===i)return!0;r.push(e)}),i!==document.body&&$A.isNode(i)&&r.length&&$A.setAttr(r,"role","presentation"),t.id||(t.id=$A.genId()),$A.setAttr(t,{role:"tab","aria-expanded":"false","aria-selected":"false"});var n=$A.get($A.getAttr(t,"data-root")),a=$A.toDC(t,$A.extend({widgetType:"Tab",root:n,append:!0},o||{}));s.push(a),$A.hasAttr(t,"data-active")&&(l=a,d=e)},"array"),$A.map({siblings:s});var t=new $A.RovingTabIndex($A.extend({nodes:a,startIndex:d,orientation:1,autoSwitch:o.autoSwitch||"full",autoLoop:!0,onClick:function(e,t,r,n){n.render(),e.preventDefault()},onSpace:function(e,t,r,n){r.onClick.apply(t,arguments),e.preventDefault()},onEnter:function(e,t,r,n){r.onClick.apply(t,arguments),e.preventDefault()}},o.extendRTI||{}));return $A.updateDisabled(t.nodes),!$A.hasHash(s)&&$A.isDC(l)&&l.render(),1===s.length?s[0]:s}}));