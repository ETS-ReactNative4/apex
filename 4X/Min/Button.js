/*!
ARIA Button Module 1.0 for Apex 4X
Author: Bryan Garaventa (https://www.linkedin.com/in/bgaraventa)
Home: WhatSock.com  :  Download: https://github.com/whatsock/apex
License: MIT (https://opensource.org/licenses/MIT)
*/
"setButton"in $A||$A.import("RovingTabIndex",{name:"ButtonModule",props:props,once:!0,call:function(e){$A.extend({setButton:function(e,u){function h(i,e,t,r,s){if(t){var a=$A.getAttr(i,"role"),A="radio"===a,o="switch"===a,n=$A.hasAttr(i,"aria-pressed"),d=0;return"true"===e?d=1:A||n||o||"mixed"!==e?e="false":d=2,$A.data(i,"check",d),r&&(A&&$A.isArray(s)&&$A.loop(s,function(e,t){t!==i&&$A.setAttr(t,"aria-checked","false")},"array"),$A.setAttr(i,n?"aria-pressed":"aria-checked",e),"mixed"===e?($A.remClass(i,u.toggleClassName||"pressed checked"),$A.toggleClass(i,u.partialClassName||"partially-checked",!0)):($A.remClass(i,u.partialClassName||"partially-checked"),$A.toggleClass(i,u.toggleClassName||(n?"pressed":"checked"),"true"===e))),d}return!1}this._4X&&(u=e,e=this._X),$A.isPlainObject(e)&&(e=(u=e).trigger||null);var p=[];if($A.query(e,u.context||document,function(e,t){var i=$A.isNode(t)&&($A.hasAttr(t,"controls")&&$A.morph($A.getAttr(t,"controls"))||$A.isFn(t.querySelector)&&t.querySelector("input"))||!1,n=$A.isNative(i)?i:$A.isNative(t)?t:null,r=$A.isNode(i)&&!$A.isNative(i)?i:$A.isNative(t)?null:t,A=!$A.isNode(n)&&$A.isNode(i)&&r!==t?i:null;if(A===r&&(r=t),$A.remAttr([t,r,n,A],"controls"),$A.isNode(r)){$A.isNode(n)&&$A.isNode(r)&&$A.bindObjects(n,r);var s=h(r,$A.getAttr(r,"radio"),$A.hasAttr(r,"radio")),a=h(r,$A.getAttr(r,"check"),$A.hasAttr(r,"check")),o=h(r,$A.getAttr(r,"toggle"),$A.hasAttr(r,"toggle")),d=h(r,$A.getAttr(r,"switch"),$A.hasAttr(r,"switch")),$=$A.hasAttr(r,"required"),c=$A.hasAttr(r,"disabled");if($A.remAttr(r,["disabled","required"]),$A.isNum(s))$A.setAttr(r,{role:"radio","aria-checked":s?"true":"false"}),p.push(r);else if($A.isNum(a)||$A.isNum(d)){$A.isNode(n)&&n.checked&&(a=1),$A.isNode(A)&&(A.id||(A.id=$A.genId()),$A.setAttr(r,{"aria-flowto":A.id,"aria-controls":A.id}));var l="false";1===a?l="true":$A.isNum(d)||2!==a||(l="mixed"),$A.setKBA11Y(r,$A.isNum(d)?"switch":"checkbox",function(e,t){var i=this,r=$A.isDisabled(i),s=h(i,$A.getAttr(i,"aria-checked"),$A.hasAttr(i,"aria-checked"));!r&&$A.isFn(u.onActivate)&&u.onActivate.apply(i,[e,i,t||n,s,function(e){h(i,e,!0,!0)}])}),$A.setAttr(r,{"aria-checked":l})}else!1!==o&&($A.setAttr(r,"aria-pressed",o?"true":"false"),$A.isNode(A)&&(A.id||(A.id=$A.genId()),$A.setAttr(r,{"aria-flowto":A.id,"aria-controls":A.id}))),$A.setKBA11Y(r,"button",function(e,t){var i=this,r=$A.isDisabled(i),s=h(i,$A.getAttr(i,"aria-pressed"),$A.hasAttr(i,"aria-pressed")),a=!1!==s?[e,i,t||A,s,function(e){h(i,e,!0,!0)}]:[e,i,t||A];!r&&$A.isFn(u.onActivate)&&u.onActivate.apply(i,a)});!1===s&&!1===a&&!1===o&&!1===d||$A.on(r,"attributeChange",function(e,t,i,r,s,a,A){if($A.isNode(n)){var o=h(t,r,!0);n.checked=!!o}},{attributeFilter:["aria-checked","aria-pressed"]}),$A.svgFix(r),u.label&&$A.setAttr(r,"aria-label",u.label),($A.isNode(n)&&n.required||u.required||$)&&($A.setAttr(r,"aria-required","true"),$A.isNode(n)&&!n.required&&(n.required=!0)),($A.isNode(n)&&n.disabled||u.disabled||c)&&($A.setAttr(r,"aria-disabled","true"),$A.isNode(n)&&!n.disabled&&(n.disabled=!0)),$A.updateDisabled(r)}$A.remAttr([t,r,n,A],["check","radio","switch","toggle"])}),p.length){var a=u.container&&$A.morph(u.container)||$A.closest(p[0],function(e){if("radiogroup"===$A.getAttr(e,"role"))return!0});$A.isNode(a)||function(e){var t=[],i=[];$A.closest(e[0],function(e){if($A.isNode(e)&&t.push(e),e===document.body)return!0}),$A.closest(e[e.length-1],function(e){if($A.isNode(e)&&i.push(e),e===document.body)return!0}),t=t.reverse(),i=i.reverse();for(var r=null,s=0;s<t.length;s++)if(t[s]===i[s])r=t[s];else if(t[s]!==i[s])break;a=r}(p),$A.setAttr(a,"role","radiogroup"),new $A.RovingTabIndex($A.extend({nodes:p,startIndex:0,orientation:0,autoLoop:!0,onClick:function(e,t,i,r){var s=t,a=$A.isDisabled(s),A=h(s,$A.getAttr(s,"aria-checked"),$A.hasAttr(s,"aria-checked"));!a&&$A.isFn(u.onActivate)&&u.onActivate.apply(s,[e,s,r,A,function(e){h(s,e,!0,!0,i.nodes)}])},onSpace:function(e,t,i,r){i.onClick.apply(t,arguments)},onFocus:function(e,t,i,r){i.arrowPressed&&!$A.isTouch&&i.onClick.apply(t,arguments)}},u.extendRTI||{}))}return $A._XR.call(this,e)}}),$A.extend({setCheckbox:$A.setButton,setRadio:$A.setButton,setSwitch:$A.setButton})}});