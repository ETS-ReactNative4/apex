/*!
ARIA Accordion Module 3.0 for Apex 4X
Copyright 2021 Bryan Garaventa (WhatSock.com)
https://github.com/whatsock/apex
Apex 4X is distributed under the terms of the Open Source Initiative OSI - MIT License.
*/
"setAccordion"in $A||$A.import("RovingTabIndex",{name:"AccordionModule",props:props,once:!0,call:function(e){$A.addWidgetProfile("Accordion",{configure:function(e){return{exposeBounds:!0,exposeHiddenClose:!1,ariaControls:!0,ariaLabelledby:!0,isToggle:!1,allowMultiple:!1,escToClose:!0,returnFocus:!1,click:function(e,t){e.stopPropagation()},onCreate:function(e){$A.setAttr(e.trigger,"aria-expanded","false")},afterRender:function(e,t){e.trackPage&&$A.setPage(e.id)}}},role:function(e){return{role:"region"}},duringRender:function(e,t){$A.setAttr(e.triggerNode,"aria-expanded","true")},beforeRemove:function(e,t){$A.setAttr(e.triggerNode,"aria-expanded","false")}}),$A.extend({setAccordion:function(e,i){if(this._4X&&(i=e,e=this._X),$A.isPlainObject(e)&&(e=(i=e).trigger||i.content||null),!e)return null;var t=null;$A.isArray(e)?t=e:$A.isStr(e)&&(t=(i.context||document).querySelectorAll(e));var a=[],c=0;return $A.loop(t,function(e,t){$A.svgFix(t);var n=$A.get($A.getAttr(t,"root")),o=$A.hasAttr(t,"active"),r=$A.toDC(t,$A.extend({widgetType:"Accordion",root:n,autoRender:o},i||{}));a.push(r),o&&(c=e)}),$A.map({siblings:a}),$A.updateDisabled(a),i.singleTabStop&&new $A.RovingTabIndex($A.extend({nodes:t,startIndex:c,orientation:2,autoSwitch:i.autoSwitch||"full",autoLoop:!0,onClick:function(e,t,n,o){o.render(),e.preventDefault()},onSpace:function(e,t,n,o){o.render(),e.preventDefault()},onEnter:function(e,t,n,o){o.render(),e.preventDefault()}},i.extendRTI||{})),1===a.length?a[0]:a}})}});